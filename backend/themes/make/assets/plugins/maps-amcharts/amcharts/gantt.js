AmCharts.AmGanttChart=AmCharts.Class({inherits:AmCharts.AmSerialChart,construct:function(a){this.type="gantt";AmCharts.AmGanttChart.base.construct.call(this,a);this.cname="AmGanttChart";this.period="ss"},initChart:function(){this.processGanttData();this.dataChanged=!0;AmCharts.AmGanttChart.base.initChart.call(this)},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.ganttDataProvider)},processGanttData:function(){var a;this.graphs=[];var r=this.dataProvider;
this.ganttDataProvider=[];var t=this.categoryField,y=this.startField,z=this.endField,A=this.durationField,B=this.startDateField,C=this.endDateField,n=this.colorField,e=this.period,g=AmCharts.getDate(this.startDate,this.dataDateFormat,"fff");this.categoryAxis.gridPosition="start";a=this.valueAxis;this.valueAxes=[a];var u;"date"==a.type&&(u=!0);g.getTime();a.minimumDate&&(a.minimumDate=AmCharts.getDate(a.minimumDate,l,e));a.maximumDate&&(a.maximumDate=AmCharts.getDate(a.maximumDate,l,e));isNaN(a.minimum)||
(a.minimumDate=AmCharts.changeDate(new Date(g),e,a.minimum,!0,!0));isNaN(a.maximum)||(a.maximumDate=AmCharts.changeDate(new Date(g),e,a.maximum,!0,!0));var l=this.dataDateFormat;for(a=0;a<r.length;a++){var c=r[a],f={};f[t]=c[t];var p=c[this.segmentsField],v;this.ganttDataProvider.push(f);c=c[n];if(p)for(var h=0;h<p.length;h++){var d=p[h],b=d[y],m=d[z],k=d[A];isNaN(b)&&(b=v);isNaN(k)||(m=b+k);var k="start_"+a+"_"+h,q="end_"+a+"_"+h;f[k]=b;v=f[q]=m;if(u){var w=AmCharts.getDate(d[B],l,e),x=AmCharts.getDate(d[C],
l,e);g&&(isNaN(b)||(w=AmCharts.changeDate(new Date(g),e,b,!0,!0)),isNaN(m)||(x=AmCharts.changeDate(new Date(g),e,m,!0,!0)));f[k]=w.getTime();f[q]=x.getTime()}AmCharts.copyProperties(d,f);b={};AmCharts.copyProperties(this.graph,b,!0);b.labelFunction=this.graph.labelFunction;b.balloonFunction=this.graph.balloonFunction;b.customBullet=this.graph.customBullet;b.type="column";b.openField=k;b.valueField=q;b.clustered=!1;d[n]&&(c=d[n]);void 0==c&&(c=this.colors[a]);(d=this.brightnessStep)&&(c=AmCharts.adjustLuminosity(c,
h*d/100));b.lineColor=c;this.graphs.push(b)}}}});